"use strict";function hideNav(){"0px"==$("nav").css("top")&&($("nav").css("top","-80px"),console.log("hide nav"))}function showNav(){"-80px"==$("nav").css("top")&&($("nav").css("top",0),console.log("show nav"))}function showPopup(){hideNav(),$("body").css("overflow-y","hidden"),$("#popup").fadeIn("fast",function(o){$("#popup .program-container").slideDown(function(o){balanceProgram()})}),console.log("show popup")}function hidePopup(){$("body").css("overflow-y","auto"),$("#popup .program-container").slideUp(function(o){$("#popup").fadeOut("fast")}),console.log("hide popup")}function loadProgram(){var o=!0,e=!1,n=void 0;try{for(var i,a=days[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var t=i.value,s="program/"+t+".html";$.ajax(s,{async:!1}).done(function(o){$("#popup .button-container").before(o)}),console.log("loading "+s+" via ajax")}}catch(r){e=!0,n=r}finally{try{!o&&a["return"]&&a["return"]()}finally{if(e)throw n}}}function focusDay(o){if(o){if(o===days[0])var e=$("."+days[1]),n=$("."+days[0]);else if(o===days[1])var e=$("."+days[0]),n=$("."+days[1]);n.children().first().next().show(),n.children().first().addClass("open"),e.children().first().next().hide(),e.children().first().removeClass("open"),console.log("focusing day")}else{var i=!0,a=!1,t=void 0;try{for(var s,r=days[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var o=s.value;$("."+o).children().first().next().hide(),$("."+o).children().first().removeClass("open")}}catch(l){a=!0,t=l}finally{try{!i&&r["return"]&&r["return"]()}finally{if(a)throw t}}}}function linkSpeakers(){$(".speakers .link").off("click").click(function(o){var e=$(this).attr("href");$(".speakers .link").not($(this)).removeClass("bold"),$(".bio").not($(this).parent().siblings(".bio."+e)).slideUp(),$(this).toggleClass("bold"),$(this).parent().siblings(".bio."+e).slideToggle(),console.log("show bio for "+e)})}function balanceProgram(){$(".program h3, .program h4, .program p").balanceText(),setTimeout(function(o){linkSpeakers()},1e3)}var ESC=27,days=["science_day","industry_day"];$(function(){hideNav(),$(window).scroll(function(){$(window).scrollTop()>150?showNav():hideNav()}),hidePopup(),loadProgram();var o=window.location.search.split("?")[1];console.log(o),o&&$.inArray(o,days)>=0&&(console.log("show as science day site"),focusDay(o),setTimeout(showPopup,500)),$(".program h1").click(function(o){$(this).next().slideToggle(function(o){balanceProgram()}),$(this).toggleClass("open"),console.log("toggle "+$(this).html().toLowerCase()+" program")}),linkSpeakers(),$(".program-link").click(function(o){o.preventDefault();var e=$(this).attr("href").split("/")[1];return focusDay(e),showPopup(),!1}),$(document).keyup(function(o){o.keyCode===ESC&&hidePopup()}),$("#popup .main-link").click(function(o){hidePopup()}),$("#popup").click(function(o){var e=$("#popup .program-container"),n=e.offset().left,i=e.offset().left+e.outerWidth(),a=e.offset().top+e.outerHeight();(o.pageX<n||i<o.pageX||o.pageY>a)&&hidePopup()})});