"use strict";function hideNav(){"0px"==$("nav").css("top")&&($("nav").css("top","-80px"),console.log("hide nav"))}function showNav(){"-80px"==$("nav").css("top")&&($("nav").css("top",0),console.log("show nav"))}function showPopup(){hideNav(),$("body").css("overflow-y","hidden"),$("#popup").fadeIn("fast",function(o){$("#popup .program-container").slideDown(function(o){balanceProgram()})}),console.log("show popup")}function hidePopup(){$("body").css("overflow-y","auto"),$("#popup .program-container").slideUp(function(o){$("#popup").fadeOut("fast")}),console.log("hide popup")}function loadProgram(){var o=!0,e=!1,n=void 0;try{for(var a,i=days[Symbol.iterator]();!(o=(a=i.next()).done);o=!0){var r=a.value,t="program/"+r+".html";$.ajax(t,{async:!1}).done(function(o){$("#popup .program-container").append(o)}),console.log("loading "+t+" via ajax")}}catch(s){e=!0,n=s}finally{try{!o&&i["return"]&&i["return"]()}finally{if(e)throw n}}}function focusDay(o){if(o){if(o===days[0])var e=$("."+days[1]),n=$("."+days[0]);else if(o===days[1])var e=$("."+days[0]),n=$("."+days[1]);e.before(n),n.children().first().next().show(),n.children().first().addClass("open"),e.children().first().next().hide(),e.children().first().removeClass("open"),console.log("focusing day")}else{var a=!0,i=!1,r=void 0;try{for(var t,s=days[Symbol.iterator]();!(a=(t=s.next()).done);a=!0){var o=t.value;$("."+o).children().first().next().hide(),$("."+o).children().first().removeClass("open")}}catch(l){i=!0,r=l}finally{try{!a&&s["return"]&&s["return"]()}finally{if(i)throw r}}}}function linkSpeakers(){$(".speakers .link").off("click").click(function(o){var e=$(this).attr("href");$(".speakers .link").not($(this)).removeClass("bold"),$(".bio").not($(this).parent().siblings(".bio."+e)).slideUp(),$(this).toggleClass("bold"),$(this).parent().siblings(".bio."+e).slideToggle(),console.log("show bio for "+e)})}function balanceProgram(){$(".program h3, .program h4, .program p").balanceText(),setTimeout(function(o){linkSpeakers()},1e3)}var ESC=27,days=["industry_day","science_day"];$(function(){hideNav(),$(window).scroll(function(){$(window).scrollTop()>150?showNav():hideNav()}),hidePopup(),loadProgram(),$(".program h1").click(function(o){$(this).next().slideToggle(function(o){balanceProgram()}),$(this).toggleClass("open"),console.log("toggle "+$(this).html().toLowerCase()+" program")}),linkSpeakers(),$("a[href^='program']").click(function(o){o.preventDefault();var e=$(this).attr("href").split("/")[1];focusDay(e),showPopup()}),$(document).keyup(function(o){o.keyCode===ESC&&hidePopup()}),$("#popup .close").click(function(o){hidePopup()}),$("#popup").click(function(o){var e=$("#popup .program-container"),n=e.offset().left,a=e.offset().left+e.outerWidth(),i=e.offset().top+e.outerHeight();(o.pageX<n||a<o.pageX||o.pageY>i)&&hidePopup()})});