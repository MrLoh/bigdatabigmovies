"use strict";!function(t,e){var n=function(t,e,n){var i;return function(){function r(){n||t.apply(a,s),i=null}var a=this,s=arguments;i?clearTimeout(i):n&&t.apply(a,s),i=setTimeout(r,e||100)}};jQuery.fn[e]=function(t){return t?this.bind("resize",n(t)):this.trigger(e)}}(jQuery,"smartresize"),function(t){function e(){this.reset()}var n,i=document.documentElement.style,r=i.textWrap||i.WebkitTextWrap||i.MozTextWrap||i.MsTextWrap||i.OTextWrap;e.prototype.reset=function(){this.index=0,this.width=0};var a=function(t,e){var i,r=/\s(?![^<]*>)/g;if(!n)for(n=[];null!==(i=r.exec(t));)n.push(i.index);return-1!==n.indexOf(e)},s=function(e){e.find('br[data-owner="balance-text"]').replaceWith(" ");var n=e.find('span[data-owner="balance-text"]');if(n.length>0){var i="";n.each(function(){i+=t(this).text(),t(this).remove()}),e.html(i)}},l=function(t){return i=t.get(0).currentStyle||window.getComputedStyle(t.get(0),null),"justify"===i.textAlign},o=function(e,n,i){n=t.trim(n);var r=n.split(" ").length;if(n+=" ",2>r)return n;var a=t("<span></span>").html(n);e.append(a);var s=a.width();a.remove();var l=Math.floor((i-s)/(r-1));return a.css("word-spacing",l+"px").attr("data-owner","balance-text"),t("<div></div>").append(a).html()},h=function(t,e){return 0===e||e===t.length||a(t,e-1)&&!a(t,e)},d=function(t,e,n,i,r,a,s){for(var l;;){for(;!h(e,a);)a+=r;if(t.html(e.substr(0,a)),l=t.width(),0>r?i>=l||0>=l||0===a:l>=i||l>=n||a===e.length)break;a+=r}s.index=a,s.width=l},c=function(t,e){var n=document.createElement("div");n.style.display="block",n.style.position="absolute",n.style.bottom="0",n.style.right="0",n.style.width="0px",n.style.height="0px",n.style.margin="0",n.style.padding="0",n.style.visibility="hidden",n.style.overflow="hidden";var i=document.createElement("span");i.style.fontSize="2000px",i.innerHTML="&nbsp;",n.appendChild(i),t.append(n);var r=i.getBoundingClientRect();n.parentNode.removeChild(n);var a=r.height/r.width;return e/a},u=[".balance-text"],p=function(){var e=u.join(",");t(e).balanceText(!0)};t.fn.balanceTextUpdate=p,t.fn.balanceText=function(i){var a=this.selector;return i||-1!==u.indexOf(a)||u.push(a),r?this:this.each(function(){var i=t(this),r=5e3;s(i);var a="";i.attr("style")&&i.attr("style").indexOf("line-height")>=0&&(a=i.css("line-height")),i.css("line-height","normal");var h=i.width(),u=i.height(),p=i.css("white-space"),f=i.css("float"),v=i.css("display"),x=i.css("position");i.css({"white-space":"nowrap","float":"none",display:"inline",position:"static"});var w=i.width(),y=i.height(),m="pre-wrap"===p?0:c(i,y);if(h>0&&w>h&&r>w){for(var g=i.html(),b="",T="",M=l(i),W=Math.round(u/y),j=W;j>1;){n=null;var z=Math.round((w+m)/j-m),C=Math.round((g.length+1)/j)-1,O=new e;d(i,g,h,z,-1,C,O);var k=new e;C=O.index,d(i,g,h,z,1,C,k),O.reset(),C=k.index,d(i,g,h,z,-1,C,O);var E;E=0===O.index?k.index:h<k.width||O.index===k.index?O.index:Math.abs(z-O.width)<Math.abs(k.width-z)?O.index:k.index,T=g.substr(0,E),M?b+=o(i,T,h):(b+=T.replace(/\s$/,""),b+='<br data-owner="balance-text" />'),g=g.substr(E),j--,i.html(g),w=i.width()}M?i.html(b+o(i,g,h)):i.html(b+g)}i.css({position:x,display:v,"float":f,"white-space":p,"line-height":a})})},t(window).ready(p),t(window).smartresize(p)}(jQuery);